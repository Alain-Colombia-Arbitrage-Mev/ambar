---
interface Props {
  variant?: 'default' | 'success' | 'warning' | 'info';
  pulse?: boolean;
  class?: string;
}

const {
  variant = 'default',
  pulse = false,
  class: className,
} = Astro.props;

const baseStyles = `
  inline-flex items-center gap-2
  px-3 py-1.5 rounded-full
  text-[10px] uppercase tracking-widest font-semibold
  border
`;

const variants = {
  default: 'bg-amber-500/10 border-amber-500/20 text-amber-500',
  success: 'bg-green-500/10 border-green-500/20 text-green-500',
  warning: 'bg-yellow-500/10 border-yellow-500/20 text-yellow-500',
  info: 'bg-blue-500/10 border-blue-500/20 text-blue-500',
};

const classes = [baseStyles, variants[variant], className].join(' ');
---

<span class={classes}>
  {pulse && (
    <span class="relative flex h-2 w-2">
      <span class={`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${
        variant === 'default' ? 'bg-amber-400' :
        variant === 'success' ? 'bg-green-400' :
        variant === 'warning' ? 'bg-yellow-400' : 'bg-blue-400'
      }`}></span>
      <span class={`relative inline-flex rounded-full h-2 w-2 ${
        variant === 'default' ? 'bg-amber-500' :
        variant === 'success' ? 'bg-green-500' :
        variant === 'warning' ? 'bg-yellow-500' : 'bg-blue-500'
      }`}></span>
    </span>
  )}
  <slot />
</span>
